### Sevrlet和Jsp阶段心得

一、初识JSP和SERVLET

本次学习的Servlet和Jsp，Jsp就如同servlet的一个变种，是了为方便书写html的内容才出现的，Jsp和Servlet的区别就好比html和js。Jsp就如同html，在编写网站的框架和样式，而Servlet就是网站的行为，当Jsp中需要做出某种动作的时候，如同跳转页面，信息录入，页面登陆等行为，是需要在Servlet中书写的。而Jsp和Servlet两者的连接，就好比vue中的路由一样，需要在一个XML中的文件中给相应的按钮和需要的行为进行连接，这样行为才会发生。

二、过滤器Filter

这次作业所要求编写的过滤器是身份验证过滤去，其实这次考核FILTER的关键点有两个，第一点是直接进入登陆后的页面而没有登陆时，会直接跳转到登陆界面，而第二点是在登陆进入用户信息页面后，当点页面返回键时，页面不会进行返回。第一点是通过在loginservlet中，当验证账号和密码正确时，会自动将相应的信息存在一个session中，而在loginfiletr中判断判断session中是否有值，来进行页面的跳转。而第二点是需要url在做的，当登入成功后，需要在将登入的页面在新的窗口中打开，来阻止用户使用返回键返回到登陆界面。过滤器的作业是强大的，可以动态的拦截请求和响应，以变换或使用包含在请求或响应中的信息。

三、实战经验  

在本次完成作业时，不知道是我tomcat版本太低的问题还是怎么，当我打开一个新的组件时，大多数的代码会报错，但是在运行时却又没有问题。在设置过滤器阶段时，当我的过滤器在XML中在还没有配置时，它就已经在工作了，挡我进入我的页面时，无论时首页和登入后成功的页面都会直接跳转到登入页面，而我完全删除了我的过滤器后，准备纠错时，发现原本能够成功运行的页面也出错了，浪费了我一下午的时间。当我将所有的文件导入到一个新的文件包中，却又能直接运行。后面重新设置过滤器发现需要在XML中的ULR中定义那个页面需要被拦截请求或者响应。SetAttribute是一个当登入失败或者尚未登入时，给到提示信息的代码，在很多地方用到。在filter中，需要将参数中的ServletRequest和ServletResponse转化为Http，并且将session对象中的值转化为String类型来进行权限的校验。